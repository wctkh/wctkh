{"meta":{"title":"TEST why not?","subtitle":"내가 보기 위한 블로그","description":"why not?","author":"kwanghyun","url":"https://wctkh.github.io/wctkh"},"pages":[],"posts":[{"title":"'script_닫기버튼이벤트'","slug":"script-닫기버튼이벤트","date":"2017-02-08T02:11:24.000Z","updated":"2017-02-08T06:18:31.007Z","comments":true,"path":"2017/02/08/script-닫기버튼이벤트/","link":"","permalink":"https://wctkh.github.io/wctkh/wctkh/2017/02/08/script-닫기버튼이벤트/","excerpt":"","text":"브라우저 닫기 버튼 클릭 시 이벤트(alt+f4,강제종료) ie11 에서 마우스 좌표값을 가져오지 못해서 mousemove 마지막 값으로 닫기 버튼을 클릭 했는지 확인1&lt;body onbeforeunload=\"sessionClose(event)\"&gt;&lt;/body&gt; 123456789101112131415161718192021222324252627282930&lt;script&gt; $(document).ready(function() &#123; $(document).mousemove(function(e)&#123; ie11Height = e.pageY; ie11Width = e.pageX; if(ie11Width==0 || (ie11Width &gt;document.body.clientWidth ))&#123; ie11Height = 0; &#125; &#125;); &#125;); function sessionClose(e)&#123; e = e || window.event; var chkBrowser = event.clientY || event.screenY || event.pageY || event.pageX; if(ie11Height==0 || (e.clientY || e.screenY || e.pageY || e.pageX)&lt;0 )&#123; if(e)&#123; $.ajax(&#123; url : \"sessionClose.jsp\", type : 'POST' &#125;); &#125; $.ajax(&#123; url : \"sessionClose.jsp\", type : 'POST' &#125;); &#125; &#125;&lt;/script&gt;","categories":[{"name":"script","slug":"script","permalink":"https://wctkh.github.io/wctkh/categories/script/"}],"tags":[]},{"title":"이벤트'","slug":"이벤트","date":"2017-02-08T02:10:24.000Z","updated":"2017-02-08T02:10:24.095Z","comments":true,"path":"2017/02/08/이벤트/","link":"","permalink":"https://wctkh.github.io/wctkh/wctkh/2017/02/08/이벤트/","excerpt":"","text":"","categories":[],"tags":[]},{"title":"'html_radio버튼'","slug":"html-radio버튼","date":"2017-02-02T02:12:15.000Z","updated":"2017-02-02T07:59:14.288Z","comments":true,"path":"2017/02/02/html-radio버튼/","link":"","permalink":"https://wctkh.github.io/wctkh/wctkh/2017/02/02/html-radio버튼/","excerpt":"","text":"radio를 버튼 형식으로 보이게123456789101112&lt;style type=\"text/css\"&gt;.radioClass&#123; position:absolute; overflow:hidden; z-index:-1;&#125;.labelClass&#123; display:inline-block; text-align:center; cursor:pointer;&#125;&lt;/style&gt; 123456789&lt;input type='radio' class=\"radioClass\" id='radio' name='radioTest'&gt;&lt;label class='labelClass' for='radio'&gt;&lt;span class='spanClass'&gt;라디오버튼1&lt;/span&gt;&lt;/label&gt;&lt;input type='radio' class=\"radioClass\" id='radio1' name='radioTest'&gt;&lt;label class='labelClass' for='radio1'&gt;&lt;span class='spanClass'&gt;라디오버튼2&lt;/span&gt;&lt;/label&gt; 결과span에 백그라운드를 줘서 radio버튼을 안보이게 하면 될듯하다","categories":[{"name":"html","slug":"html","permalink":"https://wctkh.github.io/wctkh/categories/html/"}],"tags":[{"name":"radio","slug":"radio","permalink":"https://wctkh.github.io/wctkh/tags/radio/"}]},{"title":"'제이쿼리_each'","slug":"제이쿼리-each","date":"2017-02-02T01:48:54.000Z","updated":"2017-02-02T04:11:57.831Z","comments":true,"path":"2017/02/02/제이쿼리-each/","link":"","permalink":"https://wctkh.github.io/wctkh/wctkh/2017/02/02/제이쿼리-each/","excerpt":"","text":"제이쿼리 반복문12345$(\"#payTd input\").each(function()&#123; // id가 paytd 인 태그 밑에 input 태그 전부 반복 $(this).id // this 는 현재 input 태그임 , 그리고 this 방법은 3개 다 되는거 같기도 하다. (this).id this.id&#125;)","categories":[{"name":"제이쿼리","slug":"제이쿼리","permalink":"https://wctkh.github.io/wctkh/categories/제이쿼리/"}],"tags":[{"name":"each","slug":"each","permalink":"https://wctkh.github.io/wctkh/tags/each/"},{"name":"반복문","slug":"반복문","permalink":"https://wctkh.github.io/wctkh/tags/반복문/"}]},{"title":"'hexo_파일생성'","slug":"hexo-파일생성","date":"2017-02-02T01:35:20.000Z","updated":"2017-02-02T01:41:38.909Z","comments":true,"path":"2017/02/02/hexo-파일생성/","link":"","permalink":"https://wctkh.github.io/wctkh/wctkh/2017/02/02/hexo-파일생성/","excerpt":"","text":"hexo_파일생성12hexo new post '파일명'hexo new post 'java_file' hexo_서버실행1hexo server hexo_파일배포1hexo g -d","categories":[{"name":"hexo","slug":"hexo","permalink":"https://wctkh.github.io/wctkh/categories/hexo/"}],"tags":[{"name":"파일생성","slug":"파일생성","permalink":"https://wctkh.github.io/wctkh/tags/파일생성/"},{"name":"서버실행","slug":"서버실행","permalink":"https://wctkh.github.io/wctkh/tags/서버실행/"},{"name":"배포","slug":"배포","permalink":"https://wctkh.github.io/wctkh/tags/배포/"}]},{"title":"'제이쿼리_사용하기'","slug":"제이쿼리-사용하기","date":"2017-02-02T01:34:52.000Z","updated":"2017-02-02T02:05:26.569Z","comments":true,"path":"2017/02/02/제이쿼리-사용하기/","link":"","permalink":"https://wctkh.github.io/wctkh/wctkh/2017/02/02/제이쿼리-사용하기/","excerpt":"","text":"제이쿼리 사용법 프로토타입이랑 충돌 현상일 경우12345&lt;script language=\"javascript\"&gt;var $j = jQuery.noConflict(); // 스크립트 최상단에 써줘야한다. 이후로는 $j 로 사용하면된다.$j(\"#input\").id &lt;/script&gt;","categories":[{"name":"제이쿼리","slug":"제이쿼리","permalink":"https://wctkh.github.io/wctkh/categories/제이쿼리/"}],"tags":[]},{"title":"자바_세션","slug":"자바-세션","date":"2017-01-20T06:08:22.000Z","updated":"2017-01-20T07:10:15.862Z","comments":true,"path":"2017/01/20/자바-세션/","link":"","permalink":"https://wctkh.github.io/wctkh/wctkh/2017/01/20/자바-세션/","excerpt":"","text":"공통으로 사용할 VO 에 만들면 좋을 듯 CommonVo.java 파일123456private String defaultValue; //변수 선언public void setDefaultValue(HttpSession session) &#123; // set 설정 setUserId((String) session.getAttribute(\"userId\")); setUserGroup((String) session.getAttribute(\"userGroup\"));&#125; logInController.java 에 세션 설정12session.setAttribute(\"userId\", userId);session.setAttribute(\"userGroup\", userGroup); dataController.java1siteVO.setDefaultValue(session); // 이렇게 하면 세션에 있는 값 셋팅 됨","categories":[{"name":"java","slug":"java","permalink":"https://wctkh.github.io/wctkh/categories/java/"},{"name":"session","slug":"java/session","permalink":"https://wctkh.github.io/wctkh/categories/java/session/"}],"tags":[{"name":"session","slug":"session","permalink":"https://wctkh.github.io/wctkh/tags/session/"},{"name":"세션","slug":"세션","permalink":"https://wctkh.github.io/wctkh/tags/세션/"}]},{"title":"자바_특수문자제거","slug":"자바-특수문자제거","date":"2017-01-20T05:33:28.000Z","updated":"2017-01-20T05:36:37.044Z","comments":true,"path":"2017/01/20/자바-특수문자제거/","link":"","permalink":"https://wctkh.github.io/wctkh/wctkh/2017/01/20/자바-특수문자제거/","excerpt":"","text":"12345public static String StringReplace(String str)&#123; String match = \"[^\\uAC00-\\uD7A3xfe0-9a-zA-Z\\\\s]\"; str = str.replaceAll(match, \" \"); return str;&#125;","categories":[{"name":"java","slug":"java","permalink":"https://wctkh.github.io/wctkh/categories/java/"},{"name":"util","slug":"java/util","permalink":"https://wctkh.github.io/wctkh/categories/java/util/"}],"tags":[{"name":"특수문자제거","slug":"특수문자제거","permalink":"https://wctkh.github.io/wctkh/tags/특수문자제거/"}]},{"title":"자바_숫자체크","slug":"자바-숫자체크","date":"2017-01-20T05:27:30.000Z","updated":"2017-01-20T07:10:30.387Z","comments":true,"path":"2017/01/20/자바-숫자체크/","link":"","permalink":"https://wctkh.github.io/wctkh/wctkh/2017/01/20/자바-숫자체크/","excerpt":"","text":"변수가 숫자만인지 체크1234567891011public boolean numberChk(String str)&#123; boolean chkBool = true; char chkStr; for(int i = 0; i &lt; str.length(); i++)&#123; chkStr = str.charAt(i); if(chkStr &lt; 48 || 57 &lt; chkStr)&#123; chkBool = false; &#125; &#125; return chkBool;&#125;","categories":[{"name":"java","slug":"java","permalink":"https://wctkh.github.io/wctkh/categories/java/"},{"name":"util","slug":"java/util","permalink":"https://wctkh.github.io/wctkh/categories/java/util/"}],"tags":[{"name":"숫자체크","slug":"숫자체크","permalink":"https://wctkh.github.io/wctkh/tags/숫자체크/"}]},{"title":"자바_엑셀다운로드","slug":"자바-엑셀다운로드","date":"2017-01-20T04:20:51.000Z","updated":"2017-01-20T06:06:12.834Z","comments":true,"path":"2017/01/20/자바-엑셀다운로드/","link":"","permalink":"https://wctkh.github.io/wctkh/wctkh/2017/01/20/자바-엑셀다운로드/","excerpt":"","text":"한번에 엑셀로 만들 경우 out of memory 에러가 남.그래서 총 60만건을 만들경우 15만건씩 각 탭에 만들어서 함. 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179 int fetchSize = 150000; //시트에 몇건씩 넣을 건지를 위한 변수 int offset = 0; SXSSFWorkbook workBook = new SXSSFWorkbook(fetchSize); //파일명 설정 Calendar calendar = Calendar.getInstance(); SimpleDateFormat sdf=new SimpleDateFormat(\"YYYYMMdd\"); String fName=sdf.format(calendar.getTime())+\".xlsx\";try &#123; int listSize = list.size(); // 총 데이터 건수 int totalSize = 0; //시트 몇개 만들건지 결정 if(listSize&lt; fetchSize)&#123; // 총 데이터 건수가 시트에 넣을 건수보다 작으면 시트틑 1개 totalSize=1; &#125;else&#123; totalSize = (int) Math.ceil(listSize/fetchSize)+1; &#125; for(int i=0; i&lt;totalSize ;i++)&#123; int rowCnt = 0; //10000건 안에서 현재 포인트 변수 Sheet sheet = workBook.createSheet(); //시트 생성 //헤더 생성 String[] headerList =&#123;\"No\",\"OSP명\",\"구분\",\"게시물 제목\",\"콘텐츠 원제\",\"권리사명\",\"게시물 번호\",\"사용자ID\",\"수집시간\",\"메일 발송 시간\",\"수집 금액\",\"제휴 금액\",\"발송 내역\",\"스크린샷\",\"URL\"&#125;; Row headerRow = sheet.createRow(0); // 스타일 셋팅 CellStyle style=workBook.createCellStyle(); style.setFillForegroundColor(IndexedColors.PALE_BLUE.getIndex()); style.setFillPattern(CellStyle.BORDER_THIN); style.setAlignment(CellStyle.ALIGN_CENTER); for(int j=0;j&lt;headerList.length;j++)&#123; //헤더셋팅 Cell headerCell = headerRow.createCell(j); headerCell.setCellStyle(style); sheet.setColumnWidth(3, 15000); sheet.setColumnWidth(4, 5000); sheet.setColumnWidth(5, 5000); sheet.setColumnWidth(6, 5000); sheet.setColumnWidth(7, 5000); sheet.setColumnWidth(8, 5000); sheet.setColumnWidth(9, 5000); sheet.setColumnWidth(10, 5000); sheet.setColumnWidth(11, 5000); sheet.setColumnWidth(12, 5000); sheet.setColumnWidth(13, 15000); sheet.setColumnWidth(14, 20000); //값 셋팅 headerCell.setCellValue(headerList[j]); &#125; if(fetchSize+offset &lt;= listSize)&#123; // 총 리스트가랑 비교해서 얼만큼 돌건지 결정 , offset 은 for문 시작점 , rowCnt 총 반복 건수 rowCnt = fetchSize+offset; &#125;else&#123; rowCnt = listSize; &#125; for(int j = offset, s=1; j&lt;rowCnt;j++,s++)&#123; String fileName=\"\"; PostsListDownloadVO postsVO=list.get(j); if(postsVO.getSiteType().contains(\"모바일\")) &#123; fileName+=\"M_\"; &#125; else &#123; fileName+=\"P_\"; &#125; fileName+=postsVO.getCwlDate()+\"_\"+postsVO.getSiteName()+\"_\"+postsVO.getPostId(); String pcsDate = postsVO.getPcsDate().substring(0, 4)+\".\"+postsVO.getPcsDate().substring(4, 6)+\".\"+postsVO.getPcsDate().substring(6, 8)+\" \"+postsVO.getPcsDate().substring(8, 10)+\":\"+postsVO.getPcsDate().substring(10, 12)+\":\"+postsVO.getPcsDate().substring(12, 14); String cwlDate = postsVO.getCwlDate().substring(0, 4)+\".\"+postsVO.getCwlDate().substring(4, 6)+\".\"+postsVO.getCwlDate().substring(6, 8)+\" \"+postsVO.getCwlDate().substring(8, 10)+\":\"+postsVO.getCwlDate().substring(10, 12)+\":\"+postsVO.getCwlDate().substring(12, 14); String cnt = \"\"; if(postsVO.getCodeName().contains(\"삭제\") || postsVO.getCodeName().contains(\"제휴\")) &#123; cnt = \"\"; &#125; else &#123; String replaceCnt = postsVO.getCodeName().replaceAll(\" \", \"\"); String replaceCnt1 = replaceCnt.replace(\"재수집\", \"\"); String replaceCnt2 = replaceCnt1.replace(\"차발송\", \"\"); cnt=\"_\"+replaceCnt2; &#125; Row row=sheet.createRow(s); Cell cell = row.createCell(0); Cell cell1 = row.createCell(1); Cell cell2 = row.createCell(2); Cell cell3 = row.createCell(3); Cell cell4 = row.createCell(4); Cell cell5 = row.createCell(5); Cell cell6 = row.createCell(6); Cell cell7 = row.createCell(7); Cell cell8 = row.createCell(8); Cell cell9 = row.createCell(9); Cell cell10 = row.createCell(10); Cell cell11 = row.createCell(11); Cell cell12 = row.createCell(12); Cell cell13 = row.createCell(13); Cell cell14 = row.createCell(14); cell.setCellValue(j+1); cell1.setCellValue(postsVO.getSiteName()); cell2.setCellValue(postsVO.getSiteType()); cell3.setCellValue(postsVO.getPostName()); cell4.setCellValue(postsVO.getContName2()); cell5.setCellValue(postsVO.getCpName()); cell6.setCellValue(postsVO.getPostId()); cell7.setCellValue(postsVO.getUploaderId()); cell8.setCellValue(cwlDate); cell9.setCellValue(pcsDate); cell10.setCellValue(postsVO.getPhsPrice()); cell11.setCellValue(postsVO.getContPrice()); cell12.setCellValue(postsVO.getCodeName()); cell13.setCellValue(fileName+cnt); cell14.setCellValue(postsVO.getDescUrl()); &#125; offset += fetchSize; //offset 에 현재까지 반복한 건수를 넣어야 됨. 다음 for문 시작점을 위해서 &#125; // 다운로드 부분 if(postsListDownloadVO.getDownForm().contains(\"image\")) &#123; path=filePath+\"/\"+sdf.format(calendar.getTime())+\"i\"; File fileI=new File(path); if(fileI.isDirectory()) &#123; int fileCnt=1; while(true) &#123; File fileI1=new File(filePath+\"/\"+sdf.format(calendar.getTime())+\"i\"+\"_\"+fileCnt); path=filePath+\"/\"+sdf.format(calendar.getTime())+\"i\"+\"_\"+fileCnt; if(fileI1.isDirectory()) &#123; fileCnt++; &#125; else &#123; fileI1.mkdirs(); fName=sdf.format(calendar.getTime())+\"i\"+\"_\"+fileCnt; break; &#125; &#125; &#125; else &#123; fileI.mkdirs(); fName=sdf.format(calendar.getTime())+\"i\"; path=filePath+\"/\"+sdf.format(calendar.getTime())+\"i\"; &#125; &#125; else &#123; path=filePath+\"/\"+sdf.format(calendar.getTime()); new File(path).mkdirs(); &#125; File file=new File(path+\"/\"+sdf.format(calendar.getTime())+\".xlsx\"); if(file.isFile())&#123; int i=1; while(true) &#123; File file1=new File(path+\"/\"+sdf.format(calendar.getTime())+\"_\"+i+\".xlsx\"); fName=sdf.format(calendar.getTime())+\"_\"+i+\".xlsx\"; if(file1.isFile()) &#123; i++; &#125; else &#123; FileOutputStream fileOutputStream=new FileOutputStream(file1); workBook.write(fileOutputStream); fileOutputStream.close(); break; &#125; &#125; &#125; else &#123; FileOutputStream fileOutputStream=new FileOutputStream(file); workBook.write(fileOutputStream); fileOutputStream.close(); &#125; &#125;catch(FileNotFoundException fe) &#123; fe.printStackTrace(); System.out.println(\"File Exception 발생\");&#125;catch(IOException ie) &#123; ie.printStackTrace(); System.out.println(\"IO Exception 발생\");&#125;catch(Exception e) &#123; /*e.printStackTrace();*/&#125;finally&#123; workBook.close();&#125;","categories":[{"name":"java","slug":"java","permalink":"https://wctkh.github.io/wctkh/categories/java/"},{"name":"엑셀","slug":"java/엑셀","permalink":"https://wctkh.github.io/wctkh/categories/java/엑셀/"}],"tags":[{"name":"excel","slug":"excel","permalink":"https://wctkh.github.io/wctkh/tags/excel/"},{"name":"엑셀","slug":"엑셀","permalink":"https://wctkh.github.io/wctkh/tags/엑셀/"}]}]}